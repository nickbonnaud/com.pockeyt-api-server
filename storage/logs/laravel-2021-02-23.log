[2021-02-23 22:34:01] testing.ERROR: SQLSTATE[HY000]: General error: 1 ambiguous column name: employees.first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, employees.first_name, employees.last_name, sum(tip) as tips, employees.first_name, employees.last_name from "transactions" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" where "first_name" LIKE %Moses% and "last_name" LIKE %Sipes% and "transactions"."business_id" = 1 group by "employees"."id", "employees"."id") as "aggregate_table") {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: employees.first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, employees.first_name, employees.last_name, sum(tip) as tips, employees.first_name, employees.last_name from \"transactions\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" where \"first_name\" LIKE %Moses% and \"last_name\" LIKE %Sipes% and \"transactions\".\"business_id\" = 1 group by \"employees\".\"id\", \"employees\".\"id\") as \"aggregate_table\") at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:671)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#9 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#10 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#11 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#12 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#17 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#19 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#49 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#50 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#51 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#52 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#62 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: employees.first_name at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:331)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(331): PDO->prepare()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(664): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#10 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#11 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#12 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#17 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#19 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#49 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#50 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#51 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#52 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#62 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#63 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#64 {main}
"} 
[2021-02-23 22:36:48] testing.ERROR: SQLSTATE[HY000]: General error: 1 no such column: employees.first_name (SQL: select sum(tip) as tips, employees.first_name, employees.last_name from "transactions" where exists (select * from "employees" where "transactions"."employee_id" = "employees"."external_id" and "first_name" LIKE %Seth%) and "transactions"."business_id" = 1 limit 15 offset 0) {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1 no such column: employees.first_name (SQL: select sum(tip) as tips, employees.first_name, employees.last_name from \"transactions\" where exists (select * from \"employees\" where \"transactions\".\"employee_id\" = \"employees\".\"external_id\" and \"first_name\" LIKE %Seth%) and \"transactions\".\"business_id\" = 1 limit 15 offset 0) at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:671)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(539): Illuminate\\Database\\Query\\Builder->get()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(523): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#10 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#11 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#12 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#17 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#19 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#49 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#50 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#51 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#52 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#62 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1 no such column: employees.first_name at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:331)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(331): PDO->prepare()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(664): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(539): Illuminate\\Database\\Query\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(523): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#12 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#17 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#19 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#49 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#50 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#51 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#52 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#62 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#63 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#64 {main}
"} 
[2021-02-23 22:37:11] testing.ERROR: SQLSTATE[HY000]: General error: 1 no such column: employees.first_name (SQL: select sum(tip) as tips, employees.first_name, employees.last_name from "transactions" where exists (select * from "employees" where "transactions"."employee_id" = "employees"."external_id" and "first_name" LIKE %Savanna%) and "transactions"."business_id" = 1 limit 15 offset 0) {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1 no such column: employees.first_name (SQL: select sum(tip) as tips, employees.first_name, employees.last_name from \"transactions\" where exists (select * from \"employees\" where \"transactions\".\"employee_id\" = \"employees\".\"external_id\" and \"first_name\" LIKE %Savanna%) and \"transactions\".\"business_id\" = 1 limit 15 offset 0) at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:671)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(539): Illuminate\\Database\\Query\\Builder->get()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(523): Illuminate\\Database\\Eloquent\\Builder->getModels()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#10 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#11 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#12 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#17 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#19 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#49 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#50 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#51 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#52 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#62 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1 no such column: employees.first_name at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:331)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(331): PDO->prepare()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(664): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(539): Illuminate\\Database\\Query\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(523): Illuminate\\Database\\Eloquent\\Builder->getModels()
#10 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(723): Illuminate\\Database\\Eloquent\\Builder->get()
#11 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#12 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#17 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#19 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#49 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#50 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#51 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#52 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#62 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#63 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#64 {main}
"} 
[2021-02-23 22:44:51] testing.ERROR: SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, first_name, last_name, sum(tip) as tips, first_name, last_name from "transactions" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" where "first_name" LIKE %Rebeka% and "last_name" LIKE %Marquardt% and "transactions"."business_id" = 1 group by "employees"."id", "employees"."id") as "aggregate_table") {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, first_name, last_name, sum(tip) as tips, first_name, last_name from \"transactions\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" where \"first_name\" LIKE %Rebeka% and \"last_name\" LIKE %Marquardt% and \"transactions\".\"business_id\" = 1 group by \"employees\".\"id\", \"employees\".\"id\") as \"aggregate_table\") at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:671)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#9 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#10 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#11 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#12 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#17 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#19 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#49 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#50 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#51 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#52 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#62 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:331)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(331): PDO->prepare()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(664): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#10 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#11 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#12 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#17 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#19 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#49 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#50 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#51 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#52 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#62 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#63 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#64 {main}
"} 
[2021-02-23 22:45:12] testing.ERROR: SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, first_name, last_name, sum(tip) as tips, first_name, last_name from "transactions" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" inner join "employees" on "transactions"."employee_id" = "employees"."external_id" where "first_name" LIKE %Nasir% and "last_name" LIKE %Lakin% and "transactions"."business_id" = 1 group by "employees"."id", "employees"."id") as "aggregate_table") {"userId":1,"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name (SQL: select count(*) as aggregate from (select sum(tip) as tips, first_name, last_name, sum(tip) as tips, first_name, last_name from \"transactions\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" inner join \"employees\" on \"transactions\".\"employee_id\" = \"employees\".\"external_id\" where \"first_name\" LIKE %Nasir% and \"last_name\" LIKE %Lakin% and \"transactions\".\"business_id\" = 1 group by \"employees\".\"id\", \"employees\".\"id\") as \"aggregate_table\") at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:671)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#9 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#10 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#11 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#12 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#17 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#19 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#49 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#50 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#51 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#52 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#62 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1 ambiguous column name: first_name at /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php:331)
[stacktrace]
#0 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(331): PDO->prepare()
#1 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(664): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}()
#2 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(631): Illuminate\\Database\\Connection->runQueryCallback()
#3 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Connection.php(339): Illuminate\\Database\\Connection->run()
#4 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2202): Illuminate\\Database\\Connection->select()
#5 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2190): Illuminate\\Database\\Query\\Builder->runSelect()
#6 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2685): Illuminate\\Database\\Query\\Builder->Illuminate\\Database\\Query\\{closure}()
#7 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2191): Illuminate\\Database\\Query\\Builder->onceWithColumns()
#8 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2293): Illuminate\\Database\\Query\\Builder->get()
#9 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Query/Builder.php(2260): Illuminate\\Database\\Query\\Builder->runPaginationCountQuery()
#10 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Database/Eloquent/Builder.php(722): Illuminate\\Database\\Query\\Builder->getCountForPagination()
#11 /home/vagrant/Code/com.pockeyt-api/app/Http/Controllers/Business/TipController.php(22): Illuminate\\Database\\Eloquent\\Builder->paginate()
#12 [internal function]: App\\Http\\Controllers\\Business\\TipController->index()
#13 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Controller.php(54): call_user_func_array()
#14 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/ControllerDispatcher.php(45): Illuminate\\Routing\\Controller->callAction()
#15 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(239): Illuminate\\Routing\\ControllerDispatcher->dispatch()
#16 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Route.php(196): Illuminate\\Routing\\Route->runController()
#17 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(685): Illuminate\\Routing\\Route->run()
#18 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Routing\\Router->Illuminate\\Routing\\{closure}()
#19 /home/vagrant/Code/com.pockeyt-api/app/Http/Middleware/Csrf.php(20): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#20 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): App\\Http\\Middleware\\Csrf->handle()
#21 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/SubstituteBindings.php(41): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#22 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\SubstituteBindings->handle()
#23 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Auth/Middleware/Authenticate.php(44): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#24 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Auth\\Middleware\\Authenticate->handle()
#25 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Middleware/ThrottleRequests.php(59): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#26 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Routing\\Middleware\\ThrottleRequests->handle()
#27 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#28 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(687): Illuminate\\Pipeline\\Pipeline->then()
#29 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(662): Illuminate\\Routing\\Router->runRouteWithinStack()
#30 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(628): Illuminate\\Routing\\Router->runRoute()
#31 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Routing/Router.php(617): Illuminate\\Routing\\Router->dispatchToRoute()
#32 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(165): Illuminate\\Routing\\Router->dispatch()
#33 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(128): Illuminate\\Foundation\\Http\\Kernel->Illuminate\\Foundation\\Http\\{closure}()
#34 /home/vagrant/Code/com.pockeyt-api/vendor/fruitcake/laravel-cors/src/HandleCors.php(37): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#35 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fruitcake\\Cors\\HandleCors->handle()
#36 /home/vagrant/Code/com.pockeyt-api/vendor/fideloper/proxy/src/TrustProxies.php(57): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#37 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Fideloper\\Proxy\\TrustProxies->handle()
#38 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#39 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#40 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/TransformsRequest.php(21): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#41 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\TransformsRequest->handle()
#42 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/ValidatePostSize.php(27): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#43 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\ValidatePostSize->handle()
#44 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Middleware/CheckForMaintenanceMode.php(63): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#45 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(167): Illuminate\\Foundation\\Http\\Middleware\\CheckForMaintenanceMode->handle()
#46 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Pipeline/Pipeline.php(103): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}()
#47 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(140): Illuminate\\Pipeline\\Pipeline->then()
#48 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Http/Kernel.php(109): Illuminate\\Foundation\\Http\\Kernel->sendRequestThroughRouter()
#49 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(468): Illuminate\\Foundation\\Http\\Kernel->handle()
#50 /home/vagrant/Code/com.pockeyt-api/vendor/laravel/framework/src/Illuminate/Foundation/Testing/Concerns/MakesHttpRequests.php(258): Illuminate\\Foundation\\Testing\\TestCase->call()
#51 /home/vagrant/Code/com.pockeyt-api/tests/TestCase.php(36): Illuminate\\Foundation\\Testing\\TestCase->get()
#52 /home/vagrant/Code/com.pockeyt-api/tests/Feature/Business/TransactionTest.php(336): Tests\\TestCase->send()
#53 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1415): Tests\\Feature\\Business\\TransactionTest->test_a_business_can_request_employee_by_name_sum_tips()
#54 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(1035): PHPUnit\\Framework\\TestCase->runTest()
#55 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestResult.php(691): PHPUnit\\Framework\\TestCase->runBare()
#56 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestCase.php(763): PHPUnit\\Framework\\TestResult->run()
#57 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestCase->run()
#58 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#59 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/Framework/TestSuite.php(597): PHPUnit\\Framework\\TestSuite->run()
#60 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(621): PHPUnit\\Framework\\TestSuite->run()
#61 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(204): PHPUnit\\TextUI\\TestRunner->doRun()
#62 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/src/TextUI/Command.php(163): PHPUnit\\TextUI\\Command->run()
#63 /home/vagrant/Code/com.pockeyt-api/vendor/phpunit/phpunit/phpunit(61): PHPUnit\\TextUI\\Command::main()
#64 {main}
"} 
